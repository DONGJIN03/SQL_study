## [헤비 유저가 소유한 장소]

>핵심 개념: GROUP BY, 서브쿼리

### 문제 요약
공간을 둘 이상 등록한 '헤비 유저'의 공간 정보를 출력

### 데이터 구조
| 컬럼명 | 설명 |
|------|------|
| id | 공간의 ID |
| name | 이름 |
| host_id | 공간을 소유한 유저 ID |
---
### 접근 방식
1. 조건식을 이용해 헤비 유저 id만 필터링을 하고자 함
2. 헤비 유저 id를 구하기 위해 유저별 공간 id 수 집계가 필요하다고 생각함
3. 유저별 공간 id 집계 값이 1보다 큰 유저 id는 헤비 유저 id
4. 서브 쿼리를 이용해 위의 방식대로 헤비 유저 id 값만을 나타내는 리스트 구함
5. 공간 정보를 출력 후 공간의 id 순으로 정렬 
---

### 시행착오
- 헤비 유저를 구하기 위해 그룹을 묶은 테이블을 출력에도 사용함.
  <br> 그룹으로 묶어주었기에 그룹 안에 존재하는 정보를 출력하지 못함.
  <br> 서브쿼리를 통해 조건식에만 사용해야 함
- **코드 짜기 전 출력용 테이블, 서브쿼리용 테이블 구상 미리 잘 할것!!** 
---

### 최종 쿼리
```sql
SELECT *
FROM places
WHERE host_id IN (SELECT host_id
            FROM places
            GROUP BY host_id
            HAVING COUNT(id) > 1)
ORDER BY id;
